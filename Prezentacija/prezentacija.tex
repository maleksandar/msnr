\documentclass[10pt]{beamer}

\usetheme[numbering=fraction,progressbar=frametitle]{metropolis}
\usepackage{appendixnumberbeamer}

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}
\usepackage[utf8]{inputenc}
\usepackage[english,serbian]{babel}
\usepackage[T2A]{fontenc} % enable Cyrillic fonts
\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}
\usepackage{listings}


\usepackage{xspace}
\newcommand{\themename}{\textbf{\textsc{metropolis}}\xspace}

\title{ Optimizacija izvršavanja programa kroz Iterativnu Kompilaciju }
\date{\today}
\date{}
\author{Aleksandar Preočanin, Filip Novović, Aleksandar Milosavljević}
\institute{Univerzitet u Beogradu, Matematički fakultet}

\begin{document}

\maketitle

%%%% ŠTA? %%%%
\begin{frame}[standout]
  Šta je iterativna kompilacija?
\end{frame}

\begin{frame}[fragile]{Šta je iterativna kompilacija?}

  {\textbf{\textsc{Iterativna kompilacija}}\xspace} je metoda pronalaženja ulaznih parametara statičkih transformacija
  izvornog koda za koje se dobija kod sa najboljim performansama pri izvršavanju prevedenog programa.
\end{frame}

\begin{frame}[fragile]{Šta je iterativna kompilacija?}
  \begin{itemize}[<+- | alert@+>]
    \item \textbf{Metoda} koja koristi standardni kompajler
    \item \textbf{Nije} posebna vrsta kompajlera
    \item Koristi tehnike \textbf{transformacije koda}
    \item \textbf{Traži} idealne ulazne parametre tih transformacija
    \item Pretragu vrši \textbf{iterativnom} metodom
  \end{itemize}
\end{frame}

\begin{frame}[standout]
  Zašto koristiti iterativnu kompilaciju?
\end{frame}
\begin{frame}[fragile]{Zašto koristiti iterativnu kompilaciju?}
  Iterativna kompilacija je ključna metoda u sistemima u kojima su performanse od suštinskog značaja.
  \begin{itemize}[<+- | alert@+>]
    \item Mreža pametnih uređaja (IoT)
    \item Uređaji bez pristupa konstantnom napajanju
    \item {...}
  \end{itemize}
\end{frame}


\begin{frame}[fragile]{Zašto koristiti iterativnu kompilaciju?}
  Kompajliranje iterativnom metodom ima za cilj da ubrza izvršavanje prevedenog programa ili dela programa.
\end{frame}

\begin{frame}[fragile]{Zašto koristiti iterativnu kompilaciju?}
  Ponekad optimizacije koje se mogu primeniti na kod nisu očigledne.
\end{frame}

\begin{frame}[fragile]{Zašto koristiti iterativnu kompilaciju?}
  Vrlo često se dešava da primena dve različite optimizacije koje pojedinačno imaju pozitivan efekat, kada se primene zajedno daju rezultat koji je sporiji od verzije bez optimizacije.
\end{frame}

\begin{frame}[fragile]{Zašto koristiti iterativnu kompilaciju?}
  Suština metode iterativne kompilacije je upravo u \textbf{pronalaženju} najbolje kombinacije tih transformacija.
  
  \vspace{5mm} %5mm vertical space  
  
  Pretraga tih kombinacija i njihova evaluacija vrši se iterativnom metodom.
\end{frame}

%%%% KAKO? %%%%
\begin{frame}[standout]
  Kako implementirati metod iterativne kompilacije?
\end{frame}
\begin{frame}[fragile]{Kako implementirati metod iterativne kompilacije?}
  Optimizacija koda u kontekstu iterativne kompilacije se vrši iz dva koraka.
  \begin{itemize}[<+- | alert@+>]
    \item Primenom \textbf{transformacija} nad kodom utičemo na resurse potrebne za njegovo izvršavanje
    \item Kombinaciju transformacija(zajedno sa parametrima) koja daje optimalan kod nalazimo uz pomoć \textbf{algoritma pretrage}
  \end{itemize}
\end{frame}

\begin{frame}[standout]
  Šta su metode transformacije?
\end{frame}
\begin{frame}[fragile]{Šta su metode transformacije?}

  {\textbf{\textsc{Transformacije}}\xspace}  su izmene koje se vrše nad kodom kako bi se dobile željene performanse pri njegovom izvršavanju uz uslov da izmenjen kod mora da bude semantički ekvivalentan originalnom.
\end{frame}

\begin{frame}[fragile]{Odmotavanje petlji (eng. loop unrolling)}
\begin{lstlisting}

 int x;
 for (x = 0; x < 100; x++)
 {
     delete(x);
 }
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Odmotavanje petlji (eng. loop unrolling)}
\begin{lstlisting}
 int x; 
 for (x = 0; x < 100; x += 5)
 {
     delete(x);
     delete(x + 1);
     delete(x + 2);
     delete(x + 3);
     delete(x + 4);
 }
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Podela na blokove (eng. loop tiling)}
\begin{lstlisting}
  int i, j, a[100][100], b[100], c[100];
  int n = 100;
  for (i = 0; i < n; i++) {
    c[i] = 0;
    for (j = 0; j < n; j++) {
      c[i] = c[i] + a[i][j] * b[j];
    }
  }
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Podela na blokove (eng. loop tiling)}
\begin{lstlisting}
  int i, j, x, y, a[100][100], b[100], c[100];
  int n = 100;
  for (i = 0; i < n; i += 2) {
    c[i] = 0;
    c[i + 1] = 0;
    for (j = 0; j < n; j += 2) {
      for (x = i; x < min(i + 2, n); x++) {
        for (y = j; y < min(j + 2, n); y++) {
          c[x] = c[x] + a[x][y] * b[y];
        }
      }
    }
  }
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Podela petlji (eng. loop fission)}
\begin{lstlisting}
  int i, a[100], b[100];
  for (i = 0; i < 100; i++)
  {
    a[i] = 1; 
    b[i] = 2;
  }
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{Podela petlji (eng. loop fission)}
\begin{lstlisting}
  int i, a[100], b[100];
  for (i = 0; i < 100; i++)
    a[i] = 1;                     
  for (i = 0; i < 100; i++)
    b[i] = 2;
\end{lstlisting}
\textbf{Spajanje petlji (eng. loop fusion)} predstavlja obrnutu transformaciju.
\end{frame}

\begin{frame}[fragile]{Popunjavanje niza (eng. array padding)}
Postavlja dimenziju niza na novu vrednost. Niz mora biti lokalna varijabla, a njegova dimenzija konstantna vrednost.
\end{frame}

\begin{frame}[standout]
  Šta su algoritmi pretrage?
\end{frame}
\begin{frame}[fragile]{Šta su algoritmi pretrage?}

\textbf{Prostor pretrage} (eng. search space) sadrži različite kombinacije parametara za koje se testira efikasnost kompiliranog 
programa. Kako bismo efikasno tražili optimalnu kombinaciju parametara koju ćemo na kraju i koristiti potrebno je da se što 
lakše krećemo po prostoru pretrage, zato koristimo \textbf{algoritme pretrage}.
\end{frame}

\begin{frame}[fragile]{Šta su algoritmi pretrage?}
Neki algoritmi pretrage koji se koriste u iterativnoj kompilaciji:
\begin{itemize}[<+- | alert@+>]
    \item \textbf{Genetski algoritmi}
    \item \textbf{Pretraga mreže}
    \item \textbf{Slučajna pretraga}

  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Typography}
      \begin{verbatim}The theme provides sensible defaults to
\emph{emphasize} text, \alert{accent} parts
or show \textbf{bold} results.\end{verbatim}

  \begin{center}becomes\end{center}

  The theme provides sensible defaults to \emph{emphasize} text,
  \alert{accent} parts or show \textbf{bold} results.
\end{frame}

\begin{frame}{Font feature test}
  \begin{itemize}
    \item Regular
    \item \textit{Italic}
    \item \textsc{SmallCaps}
    \item \textbf{Bold}
    \item \textbf{\textit{Bold Italic}}
    \item \textbf{\textsc{Bold SmallCaps}}
    \item \texttt{Monospace}
    \item \texttt{\textit{Monospace Italic}}
    \item \texttt{\textbf{Monospace Bold}}
    \item \texttt{\textbf{\textit{Monospace Bold Italic}}}
  \end{itemize}
\end{frame}

\begin{frame}{Lists}
  \begin{columns}[T,onlytextwidth]
    \column{0.33\textwidth}
      Items
      \begin{itemize}
        \item Milk \item Eggs \item Potatos
      \end{itemize}

    \column{0.33\textwidth}
      Enumerations
      \begin{enumerate}
        \item First, \item Second and \item Last.
      \end{enumerate}

    \column{0.33\textwidth}
      Descriptions
      \begin{description}
        \item[PowerPoint] Meeh. \item[Beamer] Yeeeha.
      \end{description}
  \end{columns}
\end{frame}
\begin{frame}{Animation}
  \begin{itemize}[<+- | alert@+>]
    \item Now this
    \item And now this
  \end{itemize}
\end{frame}
\begin{frame}{Figures}
  \begin{figure}
    \newcounter{density}
    \setcounter{density}{20}
    \begin{tikzpicture}
      \def\couleur{alerted text.fg}
      \path[coordinate] (0,0)  coordinate(A)
                  ++( 90:5cm) coordinate(B)
                  ++(0:5cm) coordinate(C)
                  ++(-90:5cm) coordinate(D);
      \draw[fill=\couleur!\thedensity] (A) -- (B) -- (C) --(D) -- cycle;
      \foreach \x in {1,...,40}{%
          \pgfmathsetcounter{density}{\thedensity+20}
          \setcounter{density}{\thedensity}
          \path[coordinate] coordinate(X) at (A){};
          \path[coordinate] (A) -- (B) coordinate[pos=.10](A)
                              -- (C) coordinate[pos=.10](B)
                              -- (D) coordinate[pos=.10](C)
                              -- (X) coordinate[pos=.10](D);
          \draw[fill=\couleur!\thedensity] (A)--(B)--(C)-- (D) -- cycle;
      }
    \end{tikzpicture}
    \caption{Rotated square from
    \href{http://www.texample.net/tikz/examples/rotated-polygons/}{texample.net}.}
  \end{figure}
\end{frame}
\begin{frame}{Tables}
  \begin{table}
    \caption{Largest cities in the world (source: Wikipedia)}
    \begin{tabular}{lr}
      \toprule
      City & Population\\
      \midrule
      Mexico City & 20,116,842\\
      Shanghai & 19,210,000\\
      Peking & 15,796,450\\
      Istanbul & 14,160,467\\
      \bottomrule
    \end{tabular}
  \end{table}
\end{frame}
\begin{frame}{Blocks}
  Three different block environments are pre-defined and may be styled with an
  optional background color.

  \begin{columns}[T,onlytextwidth]
    \column{0.5\textwidth}
      \begin{block}{Default}
        Block content.
      \end{block}

      \begin{alertblock}{Alert}
        Block content.
      \end{alertblock}

      \begin{exampleblock}{Example}
        Block content.
      \end{exampleblock}

    \column{0.5\textwidth}

      \metroset{block=fill}

      \begin{block}{Default}
        Block content.
      \end{block}

      \begin{alertblock}{Alert}
        Block content.
      \end{alertblock}

      \begin{exampleblock}{Example}
        Block content.
      \end{exampleblock}

  \end{columns}
\end{frame}
\begin{frame}{Math}
  \begin{equation*}
    e = \lim_{n\to \infty} \left(1 + \frac{1}{n}\right)^n
  \end{equation*}
\end{frame}
\begin{frame}{Line plots}
  \begin{figure}
    \begin{tikzpicture}
      \begin{axis}[
        mlineplot,
        width=0.9\textwidth,
        height=6cm,
      ]

        \addplot {sin(deg(x))};
        \addplot+[samples=100] {sin(deg(2*x))};

      \end{axis}
    \end{tikzpicture}
  \end{figure}
\end{frame}
\begin{frame}{Bar charts}
  \begin{figure}
    \begin{tikzpicture}
      \begin{axis}[
        mbarplot,
        xlabel={Foo},
        ylabel={Bar},
        width=0.9\textwidth,
        height=6cm,
      ]

      \addplot plot coordinates {(1, 20) (2, 25) (3, 22.4) (4, 12.4)};
      \addplot plot coordinates {(1, 18) (2, 24) (3, 23.5) (4, 13.2)};
      \addplot plot coordinates {(1, 10) (2, 19) (3, 25) (4, 15.2)};

      \legend{lorem, ipsum, dolor}

      \end{axis}
    \end{tikzpicture}
  \end{figure}
\end{frame}
\begin{frame}{Quotes}
  \begin{quote}
    Veni, Vidi, Vici
  \end{quote}
\end{frame}

{%
\setbeamertemplate{frame footer}{My custom footer}
\begin{frame}[fragile]{Frame footer}
    \themename defines a custom beamer template to add a text to the footer. It can be set via
    \begin{verbatim}\setbeamertemplate{frame footer}{My custom footer}\end{verbatim}
\end{frame}
}

\begin{frame}{References}
  Some references to showcase [allowframebreaks] \cite{knuth92,ConcreteMath,Simpson,Er01,greenwade93}
\end{frame}

\begin{frame}[standout]
  Kako oceniti dobijeno rešenje?
\end{frame}

\begin{frame}{Kako oceniti dobijeno rešenje?}
  
  Nakon svake iteracije potrebno je testirati i oceniti dobijeno rešenje.

\end{frame}

\begin{frame}{Ocenjivanje}

   Kako ćemo oceniti rešenje isključivo zavisi od toga šta želimo da postignemo.

\end{frame}

\begin{frame}{Ocenjivanje}

    Najčešće korišćene ocene su:
    \begin{itemize}
      \item Vreme izvršavanja
      \item Potrošnja energije
      \item Kombinacija prethodna dva
    \end{itemize}

\end{frame}

\begin{frame}{Testiranje}

  \begin{itemize}[<+- | alert@+>]
    \item Testiranje se vrši na određenom skupu repera.
    \item \textbf{Reper} predstavljaja ulaz programa koji se testira.
    \item Kada imamo više od jednog repera dobijeni program treba izvršiti na svakom od njih.
  \end{itemize}

\end{frame}

% \section{Zaključak}
\begin{frame}[standout]
  Zaključak
\end{frame}

\begin{frame}{Zaključak}

  Rezultati koji su prikazani u seminarskom radu su
  pokazali da se iterativnom kompilacijom dolazi do 
  značajnih poboljšanja kako u vremenu izvršavanja tako i 
  u uštedi energije.

\end{frame}

\begin{frame}{Zaključak}

  \begin{itemize}[<+- | @alert->]
    \item Iterativna kompilacija daje bolje rezultate od statičke kompilacije.
    \item Pogodno u embeded razvoju gde su brzina i ušteda energije od velikog značaja.
    \item Mane ovog pristupa su što se vreme kompilacije znatno povećava.
  \end{itemize}

\end{frame}

\begin{frame}{Summary}

  Get the source of this theme and the demo presentation from

  \begin{center}\url{github.com/matze/mtheme}\end{center}

  The theme \emph{itself} is licensed under a
  \href{http://creativecommons.org/licenses/by-sa/4.0/}{Creative Commons
  Attribution-ShareAlike 4.0 International License}.

  \begin{center}\ccbysa\end{center}

\end{frame}

\begin{frame}[standout]
  Pitanja?
\end{frame}
\begin{frame}[standout]
  Hvala na pažnji!
\end{frame}

\appendix

\begin{frame}[fragile]{Backup slides}
  Sometimes, it is useful to add slides at the end of your presentation to
  refer to during audience questions.

  The best way to do this is to include the \verb|appendixnumberbeamer|
  package in your preamble and call \verb|\appendix| before your backup slides.

  \themename will automatically turn off slide numbering and progress bars for
  slides in the appendix.
\end{frame}

\begin{frame}[allowframebreaks]{References}

  \bibliography{demo}
  \bibliographystyle{abbrv}

\end{frame}

\end{document}
